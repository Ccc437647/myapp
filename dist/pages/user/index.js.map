{"version":3,"file":"pages/user/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://myapp/./src/pages/user/index.tsx?0594","webpack://myapp/._src_pages_user_index.tsx"],"sourcesContent":["import _regeneratorRuntime from \"/Users/dev/Documents/myapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"/Users/dev/Documents/myapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/Users/dev/Documents/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/dev/Documents/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport Taro from '@tarojs/taro';\nimport { useState, useEffect } from 'react';\nimport './index.scss';\nimport userAvatar from '../../static/userAvatar.png';\nimport { View, Image } from '../../components/cross-platform';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function User() {\n  var _Taro$Current$router;\n  console.log('来了user页面');\n\n  // 用户信息数据\n  var _useState = useState({\n      account: 'This is RN project ~'\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    userInfo = _useState2[0],\n    setUserInfo = _useState2[1];\n  var menuList = ['菜单一', '菜单二', '菜单三', '菜单四', '菜单五'];\n  var env = Taro.getEnv();\n  // 设置单行省略号(  )\n  var textEllipsis = env == 'WEAPP' ? 'whitespace-nowrap overflow-ellipsis truncate' : '';\n\n  // 获取页面路径\n  var path = (_Taro$Current$router = Taro.Current.router) === null || _Taro$Current$router === void 0 ? void 0 : _Taro$Current$router.path;\n\n  // 获取本地存储的 userInfo 数据\n  useEffect(function () {\n    var getUserInfo = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _yield$Taro$getStorag, data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return Taro.getStorage({\n                key: 'userInfo'\n              });\n            case 3:\n              _yield$Taro$getStorag = _context.sent;\n              data = _yield$Taro$getStorag.data;\n              setUserInfo(function (prevUserInfo) {\n                return _objectSpread(_objectSpread({}, prevUserInfo), {}, {\n                  account: data.account\n                });\n              });\n              console.log('获取用户信息成功');\n              _context.next = 12;\n              break;\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('获取用户信息失败', _context.t0);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 9]]);\n      }));\n      return function getUserInfo() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    getUserInfo();\n  }, [path]); // 空依赖数组表示只在组件挂载时执行一次\n\n  return /*#__PURE__*/_jsxs(View, {\n    altClassName: \"min-h-full\",\n    children: [/*#__PURE__*/_jsxs(View, {\n      altClassName: \"relative bg-slate-400 h-36 flex flex-row  items-center p-4\",\n      children: [/*#__PURE__*/_jsx(Image, {\n        altClassName: \"rounded-full w-24 h-24\",\n        src: userAvatar\n      }), /*#__PURE__*/_jsx(View, {\n        altClassName: \"text-cyan-300 ml-4 max-w-48   text-xl  \".concat(textEllipsis),\n        numberOfLines: 1,\n        ellipsizeMode: \"tail\",\n        children: userInfo.account\n      }), /*#__PURE__*/_jsx(View, {\n        altClassName: \"absolute top-6 right-10 text-red-600 text-2xl\",\n        children: \"\\u8BBE\\u7F6E\"\n      })]\n    }), /*#__PURE__*/_jsx(View, {\n      altClassName: \"\",\n      children: menuList.map(function (item, index) {\n        return /*#__PURE__*/_jsx(View, {\n          altClassName: \" bg-amber-200 h-20  leading-[5rem] text-center mb-4\",\n          children: item\n        }, index);\n      })\n    })]\n  });\n}","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/user/index!./index.tsx\"\nvar config = {\"navigationBarTitleText\":\"个人中心\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/user/index', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n"],"names":[],"sourceRoot":""}